<!DOCTYPE html>
<html lang="en">
  <%- include("partials/admin-header") %>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <!-- sidebar -->
        <%- include("partials/admin-sidebar") %>
        <!-- /sidebar -->

        <!-- top navigation -->
        <%- include("partials/admin-navbar") %>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="x_panel">
            <div class="">
              <h2>Quản lý đơn hàng</h2>
            </div>
            <!-- <div class="h_content">
              <div class="form-group form-inline">
                <div class="col-sm-8">
                  <button id="search_btn" type="button" class="btn btn-primary right">
                    <i class="fa fa-search"></i>
                  </button>
                </div>

                <div class="col-sm-8">
                  <input type="datetime-local" name="" class="form-control right" id="" placeholder="" />
                </div>
              </div>
            </div> -->
            <div class="h_content">
              <div class="form-group form-inline">
                <div class="col-sm-4">
                  <input type="datetime-local" name="" class="form-control right" id="" placeholder="" />
                </div>
                <div class="col-sm-4">
                  <button id="search_btn" type="button" class="btn btn-primary left">
                    <i class="fa fa-search"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="col-md-12 col-sm-12">
              <table class="table_e">
                <thead>
                  <tr>
                    <th>Mã đơn hàng</th>
                    <th>Tên khách hàng</th>
                    <th>Địa chỉ</th>
                    <th>SĐT</th>
                    <th>Ngày đặt hàng</th>
                    <th class="text-center">Chi tiết đơn hàng</th>
                    <th class="text-center">Xác nhận</th>
                    <th class="text-center">Hủy đơn hàng</th>
                  </tr>
                </thead>
                <tbody>
                  <% bills.forEach(bill=>{ %>
                  <tr id="file">
                    <td>DH01</td>
                    <td><a href="#"><%- bill.name %></a></td>
                    <td><%- bill.address %></td>
                    <td><%- bill.phone %></td>
                    <td><%-new Date(bill.createdAt).getDate() %>/<%-new Date(bill.createdAt).getMonth() %>/<%-new Date(bill.createdAt).getFullYear() %></td>
                    <td class="text-center">
                      <button type="button" class="js-add-de">
                        <i class="fa fa-eye"></i>
                      </button>
                    </td>
                    <td class="text-center">
                      <input id ="checkbox" type="checkbox" <% if(bill.status==true){%> checked disabled<%}%> />
                    </td>
                    <td class="text-center">
                      <button type="button" class="right js-add-dele">
                        <i class="fa fa-trash-alt"></i>
                      </button>
                    </td>
                  </tr>
                  <%})%>
                </tbody>
              </table>
            </div>

            <div class="paging">
              <ul class="pagination right">
                <li><a href="#">Trang đầu</a></li>
                <li class="active"><a href="">1</a></li>
                <li><a href="#">Trang cuối</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!-- /page content -->

        <!--Modal detail-->
        <div id="detailform" class="modal fade js-modal1">
          <div class="modal-dialog">
            <div class="modal-content js-modal-content1">
              <div class="modal-header">
                <button type="button" class="close js-modal-close1">
                  <span>x</span>
                </button>
              </div>
              <div class="modal-body form-horizontal">
                <h1 class="text-center">Hóa đơn bán hàng</h1>
                <h2 class="text-center">[Mã HĐ:HD01]</h2>
                <div class="row">
                  <div class="col-md-12">
                    <p>
                      <span>
                        <i class="icon-user"></i>
                        Người bán:
                      </span>
                      Lê Thị Tình
                    </p>
                    <p><span> Ngày: </span> 21/06/2000</p>
                    <p><span>Tên khách hàng:</span> Lê Mỹ An</p>
                    <p><span> Địa chỉ nhận hàng: </span> Sen Thủy</p>
                    <p><span>Sđt:</span> 0968699534</p>
                  </div>
                  <h3>Chi tiết sản phẩm</h3>

                  <table class="table">
                    <thead>
                      <tr>
                        <th class="text-center">STT</th>
                        <th class="text-center">Sản phẩm</th>
                        <th class="text-center">Số lượng</th>
                        <th class="text-center">Đơn vị</th>
                        <th class="text-center">Giá</th>
                        <th class="text-center">Thành tiền</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="text-center">1</td>
                        <td class="text-center">Iphone 13 mini</td>
                        <td class="text-center">01</td>
                        <td class="text-center">Cái</td>
                        <td class="text-center">20.000.000 VNĐ</td>
                        <td class="text-center">20.000.000 VNĐ</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="bold text-right">
                  <h4>Thuế GTGT :10%</h4>
                </div>
                <div class="bold text-right">
                  <h4>Tổng cộng :22.000.000 VNĐ</h4>
                </div>
              </div>

              <div class="modal-footer">
                <button class="btn btn-default">Thoát</button>
              </div>
            </div>
          </div>
        </div>
        <!--/modal detail-->

        <!--Modal delete-->
        <div id="deleteform" class="modal fade js-modal3">
          <div class="modal-dialog">
            <div class="modal-content js-modal-content3">
              <div class="modal-header">
                <button type="button" class="close js-modal-close3">
                  <span>x</span>
                </button>
                <h4 class="modal-title">Xóa mục này</h4>
              </div>
              <div class="modal-body">Bạn chắc chắn muốn xóa mục này chứ?</div>
              <div class="modal-footer">
                <button class="btn btn-danger">Xóa</button>
                <button class="btn btn-default js-cancel">Hủy bỏ</button>
              </div>
            </div>
          </div>
        </div>
        <!--/modal delete-->

        <!-- footer content -->
        <%- include("partials/admin-footer") %>
        <!-- /footer content -->
      </div>
    </div>
    <%- include("partials/admin-scripts") %>
    <script>
      const modal1 = document.querySelector(".js-modal1");

      const modal3 = document.querySelector(".js-modal3");

      const modalClose1 = document.querySelector(".js-modal-close1");

      const modalClose3 = document.querySelector(".js-modal-close3");

      const modalContent1 = document.querySelector(".js-modal-content1");
      const modalContent3 = document.querySelector(".js-modal-content3");

      const details = document.querySelectorAll(".js-add-de");
      const deles = document.querySelectorAll(".js-add-dele");
      const cancel = document.querySelector(".js-cancel");

      function showDetail() {
        modal1.classList.add("in");
      }

      function showDelete() {
        modal3.classList.add("in");
      }

      function hiden1() {
        modal1.classList.remove("in");
      }

      function hiden3() {
        modal3.classList.remove("in");
      }

      for (const detail of details) {
        detail.addEventListener("click", showDetail);
      }

      for (const dele of deles) {
        dele.addEventListener("click", showDelete);
      }
      cancel.addEventListener("click", hiden3);
      modalClose1.addEventListener("click", hiden1);
      modalClose3.addEventListener("click", hiden3);

      modal1.addEventListener("click", hiden1);
      modalContent1.addEventListener("click", function (event) {
        event.stopPropagation();
      });

      modal3.addEventListener("click", hiden3);
      modalContent3.addEventListener("click", function (event) {
        event.stopPropagation();
      });
    </script>
  </body>
</html>
